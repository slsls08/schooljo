
<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>자리배치 프로그램</title>
	<style>
		body {
			font-family: 'Noto Sans KR', Arial, sans-serif;
			background: #f4f6fa;
			margin: 0;
			padding: 0;
			display: flex;
			flex-direction: column;
			align-items: center;
			min-height: 100vh;
		}
		.classroom {
			margin-top: 40px;
			background: #fff;
			border-radius: 16px;
			box-shadow: 0 4px 16px rgba(0,0,0,0.08);
			padding: 32px 40px 24px 40px;
			display: flex;
			flex-direction: column;
			align-items: center;
		}
		.board {
			width: 340px;
			height: 40px;
			background: #2d3e50;
			color: #fff;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 1.2rem;
			border-radius: 8px 8px 0 0;
			margin-bottom: 8px;
			letter-spacing: 2px;
		}
		.desk {
			width: 340px;
			height: 32px;
			background: #e0e0e0;
			color: #333;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 1rem;
			border-radius: 0 0 8px 8px;
			margin-bottom: 18px;
			font-weight: 500;
		}
		.seats {
			display: grid;
			grid-template-columns: repeat(5, 48px);
			grid-template-rows: repeat(5, 48px);
			gap: 14px;
			margin-bottom: 24px;
		}
		.seat {
			background: #eaf1fb;
			border: 2px solid #b0c4de;
			border-radius: 8px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 1.1rem;
			font-weight: 600;
			color: #2d3e50;
			transition: background 0.3s, border 0.3s;
			box-shadow: 0 2px 6px rgba(0,0,0,0.04);
		}
		.controls {
			display: flex;
			gap: 16px;
			margin-bottom: 12px;
		}
		button {
			background: #3b82f6;
			color: #fff;
			border: none;
			border-radius: 6px;
			padding: 10px 28px;
			font-size: 1rem;
			font-weight: 600;
			cursor: pointer;
			transition: background 0.2s;
			box-shadow: 0 2px 8px rgba(59,130,246,0.08);
		}
		button:hover {
			background: #2563eb;
		}
		.message {
			min-height: 28px;
			font-size: 1.1rem;
			color: #2563eb;
			margin-bottom: 8px;
			height: 28px;
			display: flex;
			align-items: center;
			justify-content: center;
			letter-spacing: 1px;
		}
		.dot-anim {
			display: inline-block;
			width: 1.2em;
			text-align: left;
		}
		.dot-anim span {
			display: inline-block;
			width: 0.3em;
			height: 0.3em;
			margin-right: 0.1em;
			background: #2563eb;
			border-radius: 50%;
			opacity: 0.3;
			animation: blink 1.2s infinite both;
		}
		.dot-anim span:nth-child(2) {
			animation-delay: 0.2s;
		}
		.dot-anim span:nth-child(3) {
			animation-delay: 0.4s;
		}
		@keyframes blink {
			0%, 80%, 100% { opacity: 0.3; }
			40% { opacity: 1; }
		}
	</style>
</head>
<body>
	<div class="classroom">
		<div class="board">🧑‍🏫 칠판</div>
		<div class="desk">교탁</div>
		<div class="seats" id="seats"></div>
		<div class="message" id="message"></div>
		<div class="controls">
			<button id="shuffleBtn">자리 바꿈</button>
			<button id="resetBtn">리셋</button>
		</div>
	</div>
	<script>
		// 초기 자리 데이터 (1~25)
		const initialSeats = Array.from({length: 25}, (_, i) => i + 1);
		let seats = [...initialSeats];
		let isShuffling = false;
		let shuffleTimeout = null;

		const seatsDiv = document.getElementById('seats');
		const messageDiv = document.getElementById('message');
		const shuffleBtn = document.getElementById('shuffleBtn');
		const resetBtn = document.getElementById('resetBtn');

		function renderSeats() {
			seatsDiv.innerHTML = '';
			for (let i = 0; i < 25; i++) {
				const seat = document.createElement('div');
				seat.className = 'seat';
				seat.textContent = seats[i];
				seatsDiv.appendChild(seat);
			}
		}

		function showMessage(msg, animating = false) {
			if (animating) {
				messageDiv.innerHTML = `${msg} <span class="dot-anim"><span></span><span></span><span></span></span>`;
			} else {
				messageDiv.textContent = msg;
			}
		}

		function shuffleArray(array) {
			// Fisher-Yates
			for (let i = array.length - 1; i > 0; i--) {
				const j = Math.floor(Math.random() * (i + 1));
				[array[i], array[j]] = [array[j], array[i]];
			}
		}

		function startShuffle() {
			if (isShuffling) return;
			isShuffling = true;
			shuffleBtn.disabled = true;
			resetBtn.disabled = true;
			let count = 0;
			showMessage('자리를 바꾸고 있습니다.', true);
			// 5초간 애니메이션: 0.1초마다 자리 랜덤하게 보여주기
			const anim = setInterval(() => {
				shuffleArray(seats);
				renderSeats();
				count += 100;
			}, 100);
			shuffleTimeout = setTimeout(() => {
				clearInterval(anim);
				shuffleArray(seats);
				renderSeats();
				showMessage('자리 바꿈 완료!');
				isShuffling = false;
				shuffleBtn.disabled = false;
				resetBtn.disabled = false;
			}, 5000);
		}

		function resetSeats() {
			if (isShuffling) {
				clearTimeout(shuffleTimeout);
				isShuffling = false;
			}
			seats = [...initialSeats];
			renderSeats();
			showMessage('초기 상태로 돌아갔습니다.');
			shuffleBtn.disabled = false;
			resetBtn.disabled = false;
		}

		shuffleBtn.addEventListener('click', startShuffle);
		resetBtn.addEventListener('click', resetSeats);

		// 최초 렌더링
		renderSeats();
		showMessage('초기 상태입니다.');
	</script>
</body>
</html>
